(this["webpackJsonpgolfapp-2020"]=this["webpackJsonpgolfapp-2020"]||[]).push([[0],{21:function(e,n,t){e.exports=t.p+"static/media/logo.f2846a8a.png"},24:function(e,n,t){e.exports=t(39)},29:function(e,n,t){},34:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(10),i=t.n(o),s=(t(29),t(3)),l=t(4),c=t(6),u=t(5),d=t(7),m=t(12),p=(t(34),t(21)),g=t.n(p),h=function(e){var n=e.onRouteChange;return e.isSignedIn?r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("img",{alt:"logo",src:g.a,style:{paddingTop:"10px",width:"100px"}}),r.a.createElement("div",{style:{padding:"1rem",transform:"rotate(90deg)"}},"...")),r.a.createElement("nav",{style:{display:"flex",justifyContent:"space-between",backgroundColor:"black",color:"white",padding:"0 2rem"}},r.a.createElement("p",{className:"f4 link dim pointer",onClick:function(){return n("home")}},"Home"),r.a.createElement("p",{className:"f4 link dim pointer",onClick:function(){return n("roundlist")}},"Show rounds"),r.a.createElement("p",{className:"f4 link dim pointer",onClick:function(){return n("signout")}},"Sign out"))):r.a.createElement("nav",{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement("p",{className:"f3 link dim black underline pa3 pointer",onClick:function(){return n("signin")}},"Sign in"),r.a.createElement("p",{className:"f3 link dim black underline pa3 pointer",onClick:function(){return n("register")}},"Register"))},f=t(13),b=t(14),E=function(e){var n=e.showRoundDetail,t=e.score,a=e.course,o=e.playing_date,i=e.score_to_par,s=e.fairways_in_regulation,l=e.greens_in_regulation,c=(e.putts_per_gir,e.putts),u=new Date(o),d=u.getDate()+"-"+parseInt(u.getMonth()+1)+"-"+u.getFullYear(),m=r.a.createElement(f.a,{icon:b.a}),p=r.a.createElement(f.a,{icon:b.c}),g=r.a.createElement(f.a,{icon:b.b});return r.a.createElement("div",{onClick:n,className:"pv3 ph3",style:{border:"1px solid black"}},r.a.createElement("div",{className:"pv2",style:{display:"flex",flexDirection:"row",justifyContent:"flex-start"}},r.a.createElement("div",{className:"f2 b ph3",style:{alignSelf:"center"}},t),r.a.createElement("div",{className:"tl"},r.a.createElement("div",{className:"b"},d),r.a.createElement("div",null,a))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement("div",null,"+",i),r.a.createElement("div",null,p," ",s,"/13"),r.a.createElement("div",null,m," ",l,"/18"),r.a.createElement("div",null,g," ",c)))},v=function(e){e.searchfield;var n=e.searchChange;return r.a.createElement("div",{className:"pa2"},r.a.createElement("input",{className:"pa3 ba b--green bg-lightest-blue",type:"search",placeholder:"search rounds",onChange:n}))},w=function(e){var n=e.rounds,t=e.showRoundDetail;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflow:"hidden"}},n.map((function(e,a){return r.a.createElement(E,{showRoundDetail:t[a],key:a,id:n[a].id,playing_date:n[a].playing_date,course:n[a].course,score:n[a].score,score_to_par:n[a].score_to_par,fairways_in_regulation:n[a].fairways_in_regulation,greens_in_regulation:n[a].greens_in_regulation,putts:n[a].putts,putts_per_gir:n[a].putts_per_gir})})))},y=function(e){var n=e.onRouteChange;return r.a.createElement("div",{className:{display:"flex",flexDirection:"column"}},r.a.createElement("button",{onClick:function(){return n("entry")},className:"f4 w-100 link dim ph4 pv2 dib white bg-blue tl"},"Play golf(coming soon)"),r.a.createElement("button",{onClick:function(){return n("roundlist")},className:"f4 w-100 link dim ph4 pv2 dib white bg-blue tl"},"Show all rounds"),r.a.createElement("button",{className:"f4 w-100 link dim ph4 pv2 dib white bg-blue tl"},"Learn more (coming soon)"))},_=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(c.a)(this,Object(u.a)(n).call(this,e))).onEmailChange=function(e){t.setState({signInEmail:e.target.value})},t.onPasswordChange=function(e){t.setState({signInPassword:e.target.value})},t.onSubmitSignIn=function(){fetch("http://localhost:3005/signin",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({email:t.state.signInEmail,password:t.state.signInPassword})}).then((function(e){return e.json()})).then((function(e){e.id&&(t.props.loadUser(e),t.props.onRouteChange("home"))}))},t.state={signInEmail:"",signInPassword:""},t}return Object(d.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this.props.onRouteChange;return r.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-75 mw6 shadow-5 center"},r.a.createElement("main",{className:"pa4 black-80 authentication"},r.a.createElement("form",{className:"measure"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Sign In"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange,defaultValue:"test@test.test"})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange,defaultValue:"test"}))),r.a.createElement("div",{className:""},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in",onClick:this.onSubmitSignIn()})),r.a.createElement("div",{className:"lh-copy mt3"},r.a.createElement("p",{onClick:function(){return e("register")},className:"f6 link dim black db pointer"},"Register")))))}}]),n}(r.a.Component),C=(r.a.Component,t(11)),S=(r.a.Component,function(e){function n(){var e;return Object(s.a)(this,n),(e=Object(c.a)(this,Object(u.a)(n).call(this))).loadUser=function(n){e.setState({user:{id:n.id,name:n.name,email:n.email,submitted_rounds:n.submitted_rounds,joined:n.joined,rounds:{id:n.id,score:n.score,score_to_par:n.score_to_par,playing_date:n.playing_date,course:n.course,greens_in_regulation:n.greens_in_regulation,fairways_in_regulation:n.fairways_in_regulation,putts:n.putts,putts_per_gir:n.putts_per_gir}}})},e.onInputChange=function(n){e.setState({input:n.target.value})},e.onRouteChange=function(n){"signout"===n?e.setState({isSignedIn:!1}):"home"===n&&e.setState({isSignedIn:!0}),e.setState({route:n})},e.showRoundDetail=function(){console.log("clicked rounds")},e.state={route:"home",isSignedIn:!1,user:{id:"",name:"",email:"",submitted_rounds:0,joined:""}},e}return Object(d.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onRequestRounds()}},{key:"render",value:function(){var e=this.state,n=e.isSignedIn,t=e.route,a=this.props,o=a.searchField,i=a.onSearchChange,s=a.rounds,l=a.isPending,c=s.filter((function(e){return console.log("round",e),e.course.toLowerCase().includes(o.toLowerCase())}));return l?r.a.createElement("h1",null,"Loading.."):r.a.createElement("div",{className:"App landing-background"},r.a.createElement(h,{isSignedIn:this.state.isSignedIn,onRouteChange:this.onRouteChange}),"home"===t?r.a.createElement("div",{className:"mx-auto center"},r.a.createElement(y,{onRouteChange:this.onRouteChange})):"roundlist"===t?n?r.a.createElement("div",{class:"roundlist"},r.a.createElement(v,{searchChange:i}),r.a.createElement(w,{rounds:c,showRoundDetail:this.showRoundDetail})):"Login to see this content!":r.a.createElement(_,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}))}}]),n}(a.Component)),N=Object(m.b)((function(e){return{searchField:e.searchRounds.searchField,rounds:e.requestRounds.rounds,isPending:e.requestRounds.isPending,error:e.requestRounds.error}}),(function(e){return{onSearchChange:function(n){return e({type:"CHANGE_SEARCH_FIELD",payload:n.target.value})},onRequestRounds:function(){return e((function(e){e({type:"REQUEST_ROUNDS_PENDING"}),fetch("http://localhost:3005/rounds").then((function(e){return e.json()})).then((function(n){return e({type:"REQUEST_ROUNDS_SUCCESS",payload:n})})).catch((function(n){return e({type:"REQUEST_ROUNDS_FAILED",payload:n})}))}))}}}))(S),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(38);var j=t(22),O=t(8),D=t(23),I={searchField:""},U={isPending:!1,rounds:[],error:""},x=Object(j.createLogger)(),P=Object(O.c)({searchRounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"CHANGE_SEARCH_FIELD":return Object.assign({},e,{searchField:n.payload});default:return e}},requestRounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"REQUEST_ROUNDS_PENDING":return Object.assign({},e,{isPending:!0});case"REQUEST_ROUNDS_SUCCESS":return Object.assign({},e,{rounds:n.payload,isPending:!1});case"REQUEST_ROUNDS_FAILED":return Object.assign({},e,{error:n.payload,isPending:!1});default:return e}}}),A=Object(O.d)(P,Object(O.a)(D.a,x));i.a.render(r.a.createElement(m.a,{store:A},r.a.createElement(N,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/golfapp-2020",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/golfapp-2020","/service-worker.js");k?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):R(n,e)}))}}()}},[[24,1,2]]]);
//# sourceMappingURL=main.a52d40f9.chunk.js.map